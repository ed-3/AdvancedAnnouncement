kind: pipeline 
type: docker 
name: build jar

steps:
  - name: build
    image: gradle:jdk8
    commands:
      - gradle clean build
  - name: package
    image: gradle:jdk8
    commands:
    - tar -czvf project.tar.gz -C build/libs .
  - name: docker  
    image: plugins/artifactory
    url: 43.143.62.103/artifactory
    source: release.tar.gz
    target: build/libs/*.jar
trigger:
  branch:
  - master
  event: 
    - push